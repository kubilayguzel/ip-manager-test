<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IP Manager - Portföye Marka Kaydı</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <style>
/* create-task.html ile aynı stil yapısı */
* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; color: #333; display: flex; }

/* Sayfa Yapısı */
.page-wrapper { flex-grow: 1; display: flex; flex-direction: column; height: 100vh; overflow-y: auto; background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); }
.main-container { width: 100%; padding: 30px; }
.page-header { background: rgba(255,255,255,0.95); padding: 30px; border-radius: 20px; margin-bottom: 30px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
.page-title { font-size: 2em; color: #1e3c72; margin-bottom: 10px; }
.page-subtitle { color: #666; font-size: 1.1em; }
.form-container { background: rgba(255,255,255,0.95); padding: 40px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
.form-section { border-bottom: 1px solid #e1e8ed; padding-bottom: 25px; margin-bottom: 25px; }
.form-section:last-child { border-bottom: none; }
.section-title { font-size: 1.3em; color: #1e3c72; margin-bottom: 20px; display: flex; justify-content: space-between; align-items: center; }
.form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 25px; }
.form-group { display: flex; flex-direction: column; }
.form-group.full-width { grid-column: 1 / -1; }
.form-label { margin-bottom: 8px; font-weight: 500; color: #333; }
.form-input, .form-select, .form-textarea { width: 100%; padding: 12px 15px; border: 2px solid #e1e8ed; border-radius: 10px; font-size: 1em; transition: all 0.3s ease; background: #fff; }
.form-input:focus, .form-select:focus, .form-textarea:focus { border-color: #4a90e2; outline: none; box-shadow: 0 0 0 3px rgba(74, 144, 226, 0.1); }
.form-actions { display: flex; justify-content: flex-end; gap: 15px; margin-top: 30px; }
.btn { padding: 12px 25px; border: none; border-radius: 8px; font-size: 1em; font-weight: 600; cursor: pointer; transition: all 0.3s ease; }
.btn-primary { background: #1e3c72; color: #fff; }
.btn-primary:hover { background: #2a5298; transform: translateY(-2px); }
.btn-secondary { background: #6c757d; color: #fff; }
.btn-secondary:hover { background: #545b62; }
.btn-success { background: #28a745; color: #fff; }
.btn-success:hover { background: #218838; transform: translateY(-2px); }

/* Tab sistemi */
.nav-tabs { border-bottom: 2px solid #e1e8ed; margin-bottom: 0; }
.nav-tabs .nav-link { border: none; border-radius: 10px 10px 0 0; margin-right: 5px; padding: 12px 20px; font-weight: 500; color: #666; background: #f8f9fa; }
.nav-tabs .nav-link.active { background: #fff; color: #1e3c72; font-weight: 600; border-bottom: 2px solid #fff; }
.nav-tabs .nav-link:hover { background: #e9ecef; }

.tab-content-card { padding: 30px; border: 1px solid #e1e8ed; border-top: none; border-radius: 0 0 10px 10px; background: #fff; }

/* File upload */
.brand-upload-frame { border: 2px dashed #4a90e2; border-radius: 10px; padding: 30px; text-align: center; cursor: pointer; transition: all 0.3s ease; background: #f8f9fa; }
.brand-upload-frame:hover, .brand-upload-frame.drag-over { background: #e3f2fd; border-color: #1976d2; }
.upload-icon { font-size: 3em; color: #4a90e2; margin-bottom: 15px; }

/* Preview */
#brandExamplePreviewContainer { margin-top: 20px; text-align: center; display: none; }
#brandExamplePreview { max-width: 200px; max-height: 200px; border: 2px solid #e1e8ed; border-radius: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); }

/* Radio buttons */
.radio-group { display: flex; gap: 20px; margin-top: 8px; }
.radio-option { display: flex; align-items: center; gap: 8px; }
.radio-option input[type="radio"] { margin: 0; }

/* Selected items */
.selected-items-container { min-height: 100px; border: 1px dashed #e1e8ed; border-radius: 10px; padding: 15px; background: #f8f9fa; }
.selected-item { background: #e3f2fd; border: 1px solid #90caf9; border-radius: 8px; padding: 10px; margin-bottom: 10px; display: flex; justify-content: space-between; align-items: center; }
.selected-item:last-child { margin-bottom: 0; }
.remove-item-btn { background: #f44336; color: white; border: none; border-radius: 4px; width: 24px; height: 24px; display: flex; align-items: center; justify-content: center; font-size: 12px; cursor: pointer; }
.remove-item-btn:hover { background: #d32f2f; }

.empty-state { text-align: center; padding: 30px; color: #666; }
.empty-state i { font-size: 2em; color: #ccc; margin-bottom: 10px; }

/* Nice Classification container */
#niceClassificationContainer { min-height: 300px; border: 1px solid #e1e8ed; border-radius: 10px; padding: 20px; background: #fff; }

/* Add buttons */
.add-item-btn { background: #4a90e2; color: white; border: none; border-radius: 8px; padding: 10px 20px; font-weight: 500; cursor: pointer; margin-bottom: 20px; }
.add-item-btn:hover { background: #357abd; }
.add-item-btn i { margin-right: 8px; }
    </style>
</head>
<body>
    <div id="layout-placeholder"></div>
    
    <div class="page-wrapper">
        <main class="main-container">
            <!-- Page Header - create-task.html ile aynı stil -->
            <section class="page-header">
                <h1 class="page-title">Portföye Yeni Marka Kaydı</h1>
                <p class="page-subtitle">Yeni bir marka başvurusu oluşturun ve portföyünüze ekleyin.</p>
            </section>
            
            <!-- Form Container -->
            <div class="form-container">
                <form id="dataEntryForm">
                    <!-- Tab Navigation -->
                    <ul class="nav nav-tabs" id="dataEntryTabs" role="tablist">
                        <li class="nav-item">
                            <a class="nav-link active" id="brand-info-tab" data-toggle="tab" href="#brand-info" role="tab">
                                <i class="fas fa-tag mr-2"></i>Marka Bilgileri
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" id="goods-services-tab" data-toggle="tab" href="#goods-services" role="tab">
                                <i class="fas fa-list-ul mr-2"></i>Mal/Hizmet Seçimi
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" id="applicants-tab" data-toggle="tab" href="#applicants" role="tab">
                                <i class="fas fa-users mr-2"></i>Başvuru Sahibi
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" id="priority-tab" data-toggle="tab" href="#priority" role="tab">
                                <i class="fas fa-flag mr-2"></i>Rüçhan
                            </a>
                        </li>
                    </ul>

                    <!-- Tab Content -->
                    <div class="tab-content tab-content-card" id="dataEntryTabContent">
                        <!-- 1. Marka Bilgileri Tab -->
                        <div class="tab-pane fade show active" id="brand-info" role="tabpanel">
                            <div class="form-section">
                                <h3 class="section-title">
                                    <span><i class="fas fa-info-circle mr-2"></i>Marka Bilgileri</span>
                                </h3>
                                
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label for="brandType" class="form-label">Marka Tipi</label>
                                        <select id="brandType" class="form-select">
                                            <option value="Sadece Kelime">Sadece Kelime</option>
                                            <option value="Sadece Şekil">Sadece Şekil</option>
                                            <option value="Şekil + Kelime" selected>Şekil + Kelime</option>
                                            <option value="Ses">Ses</option>
                                            <option value="Hareket">Hareket</option>
                                            <option value="Renk">Renk</option>
                                            <option value="Üç Boyutlu">Üç Boyutlu</option>
                                        </select>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="brandCategory" class="form-label">Marka Türü</label>
                                        <select id="brandCategory" class="form-select">
                                            <option value="Ticaret/Hizmet Markası" selected>Ticaret/Hizmet Markası</option>
                                            <option value="Garanti Markası">Garanti Markası</option>
                                            <option value="Ortak Marka">Ortak Marka</option>
                                        </select>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="brandExampleText" class="form-label">Yazılı İfadesi</label>
                                        <input type="text" id="brandExampleText" class="form-input" placeholder="Marka metni">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="nonLatinAlphabet" class="form-label">Latin Alfabesi Dışı Harf</label>
                                        <input type="text" id="nonLatinAlphabet" class="form-input" placeholder="Varsa yazın">
                                    </div>
                                </div>

                                <!-- Marka Örneği Upload -->
                                <div class="form-group full-width">
                                    <label class="form-label">Marka Örneği</label>
                                    <div id="brand-example-drop-zone" class="brand-upload-frame">
                                        <input type="file" id="brandExample" accept="image/*" style="display:none;">
                                        <div class="upload-icon">🖼️</div>
                                        <h5>Marka örneğini buraya sürükleyin veya seçmek için tıklayın</h5>
                                        <p class="text-muted">İstenen format: 591x591px, 300 DPI, JPEG. Yüklenen dosya otomatik olarak dönüştürülecektir.</p>
                                    </div>
                                    <div id="brandExamplePreviewContainer">
                                        <img id="brandExamplePreview" alt="Marka Önizleme">
                                    </div>
                                </div>

                                <!-- Radio Button Groups -->
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label class="form-label">Önyazı Talebi</label>
                                        <div class="radio-group">
                                            <div class="radio-option">
                                                <input type="radio" name="coverLetterRequest" id="coverLetterRequestVar" value="var">
                                                <label for="coverLetterRequestVar">Var</label>
                                            </div>
                                            <div class="radio-option">
                                                <input type="radio" name="coverLetterRequest" id="coverLetterRequestYok" value="yok" checked>
                                                <label for="coverLetterRequestYok">Yok</label>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label class="form-label">Muvafakat Talebi</label>
                                        <div class="radio-group">
                                            <div class="radio-option">
                                                <input type="radio" name="consentRequest" id="consentRequestVar" value="var">
                                                <label for="consentRequestVar">Var</label>
                                            </div>
                                            <div class="radio-option">
                                                <input type="radio" name="consentRequest" id="consentRequestYok" value="yok" checked>
                                                <label for="consentRequestYok">Yok</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 2. Mal/Hizmet Seçimi Tab -->
                        <div class="tab-pane fade" id="goods-services" role="tabpanel">
                            <div class="form-section">
                                <h3 class="section-title">
                                    <span><i class="fas fa-list-ul mr-2"></i>Mal ve Hizmet Sınıfları</span>
                                </h3>
                                <p class="text-muted mb-4">Nice Classification sistemi kullanılarak mal ve hizmet sınıflarınızı seçin. Birden fazla sınıf seçebilirsiniz.</p>
                                
                                <div id="niceClassificationContainer">
                                    <div class="empty-state">
                                        <i class="fas fa-spinner fa-spin fa-2x"></i>
                                        <p>Nice Classification yükleniyor...</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 3. Başvuru Sahibi Tab -->
                        <div class="tab-pane fade" id="applicants" role="tabpanel">
                            <div class="form-section">
                                <h3 class="section-title">
                                    <span><i class="fas fa-users mr-2"></i>Başvuru Sahibi</span>
                                </h3>
                                
                                <button type="button" id="addApplicantBtn" class="add-item-btn">
                                    <i class="fas fa-plus"></i>Başvuru Sahibi Ekle
                                </button>
                                
                                <div id="selectedApplicantsContainer" class="selected-items-container">
                                    <div class="empty-state">
                                        <i class="fas fa-user-plus"></i>
                                        <p>Henüz başvuru sahibi seçilmedi</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 4. Rüçhan Tab -->
                        <div class="tab-pane fade" id="priority" role="tabpanel">
                            <div class="form-section">
                                <h3 class="section-title">
                                    <span><i class="fas fa-flag mr-2"></i>Rüçhan Bilgileri</span>
                                </h3>
                                
                                <button type="button" id="addPriorityBtn" class="add-item-btn">
                                    <i class="fas fa-plus"></i>Rüçhan Ekle
                                </button>
                                
                                <div id="prioritiesContainer" class="selected-items-container">
                                    <div class="empty-state">
                                        <i class="fas fa-flag"></i>
                                        <p>Henüz rüçhan eklenmedi</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Form Actions -->
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" onclick="window.location.href='portfolio.html'">
                            <i class="fas fa-times mr-2"></i>İptal
                        </button>
                        <button type="submit" class="btn btn-success">
                            <i class="fas fa-save mr-2"></i>Portföye Kaydet
                        </button>
                    </div>
                </form>
            </div>
        </main>
    </div>

    <!-- Modals will be loaded by shared layout -->
    
    <!-- Scripts -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script type="module" src="./js/data-entry.js"></script>
</body>
</html>