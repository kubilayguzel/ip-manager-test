<aside class="sidebar">
    <div class="sidebar-header">
        <a href="dashboard.html" class="sidebar-logo">ğŸ”¥ IP Manager</a>
    </div>
    <nav class="sidebar-nav">
        <div class="accordion">
            <div class="accordion-header"><span class="nav-icon">ğŸ‘¥</span><span>KiÅŸi YÃ¶netimi</span></div>
            <div class="accordion-content">
                <a href="persons.html">KiÅŸiler YÃ¶netimi</a>
                <a href="user-management.html">KullanÄ±cÄ± YÃ¶netimi</a>
            </div>
        </div>
       <div class="nav-category-title">Finans</div>
        <a href="accruals.html" class="sidebar-nav-item"><span class="nav-icon">ğŸ’°</span><span>TahakkuklarÄ±m</span></a>
        <div class="nav-category-title">AraÃ§lar</div>
        <!-- GÃœNCELLENMIÅ: indexing.html â†’ bulk-indexing-page.html -->
        <a href="bulk-indexing-page.html" class="sidebar-nav-item"><span class="nav-icon">ğŸ“</span><span>Belge Ä°ndeksleme</span></a>
        <a href="#" class="sidebar-nav-item" style="opacity: 0.5; cursor: not-allowed;"><span class="nav-icon">ğŸ“ˆ</span><span>Raporlar</span></a>
        <a href="#" class="sidebar-nav-item" style="opacity: 0.5; cursor: not-allowed;"><span class="nav-icon">ğŸ”§</span><span>Ayarlar</span></a>
    </nav>
</aside>

<header class="top-header">
    <div class="user-section">
        <div class="user-avatar" id="userAvatar">?</div>
        <div class="user-info">
            <div class="user-name" id="userName">YÃ¼kleniyor...</div>
            <div class="user-role" id="userRole">KullanÄ±cÄ±</div>
        </div>
        <button class="logout-btn" id="logoutBtn">Ã‡Ä±kÄ±ÅŸ</button>
    </div>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const currentPage = window.location.pathname.split('/').pop();

  // Aktif linki bul ve iÅŸaretle
  let activeLink = null;
  document.querySelectorAll('.sidebar-nav-item, .accordion-content a').forEach(link => {
    const href = link.getAttribute('href');
    if (href && href === currentPage) {
      link.classList.add('active');
      activeLink = link;
    } else {
      link.classList.remove('active');
    }
  });

  if (activeLink) {
    // Ait olduÄŸu accordion'Ä± aÃ§
    const accordionContent = activeLink.closest('.accordion-content');
    if (accordionContent) {
      accordionContent.style.display = 'block';

      // Accordion baÅŸlÄ±ÄŸÄ±nÄ± aÃ§Ä±lmÄ±ÅŸ olarak iÅŸaretle
      const accordionHeader = accordionContent.previousElementSibling;
      if (accordionHeader) accordionHeader.classList.add('open');

      // DiÄŸer accordion'larÄ± kapat
      document.querySelectorAll('.accordion-content').forEach(content => {
        if (content !== accordionContent) {
          content.style.display = 'none';
          const otherHeader = content.previousElementSibling;
          if (otherHeader) otherHeader.classList.remove('open');
        }
      });
    } else {
      // Link accordion dÄ±ÅŸÄ±nda ise tÃ¼m accordion'larÄ± kapat
      document.querySelectorAll('.accordion-content').forEach(content => {
        content.style.display = 'none';
        const otherHeader = content.previousElementSibling;
        if (otherHeader) otherHeader.classList.remove('open');
      });
    }
  }
});
</script>

</header>